<!Doctype html>
<html>
    <head>
        <title><h5>Welcome to my Demo Website with Clevertap SDK</h5></title>
        <!-- Google Tag Manager -->
<!--<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TM9L7CG');</script>-->
<!-- End Google Tag Manager -->
        
        <script type="text/javascript">
            var clevertap = {event:[], profile:[], account:[], onUserLogin:[], notifications:[], privacy:[]};
        // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
       clevertap.account.push({"id": "W44-Z4K-K65Z"});
       clevertap.privacy.push({optOut: false}); //set the flag to true, if the user of the device opts out of sharing their data
       clevertap.privacy.push({useIP: false}); //set the flag to true, if the user agrees to share their IP data
        (function () {
                var wzrk = document.createElement('script');
                wzrk.type = 'text/javascript';
                wzrk.async = true;
                wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/a.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(wzrk, s);
         })();
       </script>
      <script>
           function loginFunction(){
            clevertap.onUserLogin.push({
                    "Site": {
                    "Name": "Sumit Sharma",            // String
                    "Identity": 115037,              // String or number
                    "Email": "sumitkumar782@gmail.com",         // Email address of the user
                    "Phone": "+919351210270",           // Phone (with the country code)
                    "Gender": "M",                     // Can be either M or F
                    "DOB": new Date(),                 // Date of Birth. Date object
                    // optional fields. controls whether the user will be sent email, push etc.
                    "MSG-email": true,                // Disable email notifications
                    "MSG-push": true,                  // Enable push notifications
                    "MSG-sms": false,                   // Enable sms notifications
                    "MSG-whatsapp": false,             // Enable WhatsApp notification
                }
            })
            console.log("Profile uploaded successfully")
        }
           function pushCTEvent(){
                clevertap.event.push("WebEvent", {
                    "Action":"Success",
                    "Category":"Shirts",
                    "Price":59.99,});
                    window.alert("  Event pushed to CT");
           }
           function ctNotificationConsent(){
            clevertap.notifications.push({
                //"apnsWebPushId":"<apple web push id>", //only for safari browser
                //"apnsWebPushServiceUrl":"<safari package service url>",//only for safari browser
                "titleText":'Would you like to receive Push Notifications?',
                "bodyText":'We promise to only send you relevant content and give you updates on your transactions',
                "okButtonText":'Sign me up!',
                "rejectButtonText":'No thanks',
                "okButtonColor":'#f28046'});
           }
           function updateProfile()
           {
            clevertap.profile.push({
                    "Site": {
                
                    "tier": "Platinum",           
                }
            })
            console.log("Profile updated successfully")
           }
            
            //document.getElementById('demo').innerHTML = "Profile uploaded successfully";
       </script>
        <script>
        
            function gtmLoginFunction(){
            dataLayer.push({'name': 'Sumit'});
            dataLayer.push({'email': 'sumitkumar782@gmail.com'});
            dataLayer.push({'identity': 115037});
            dataLayer.push({'phone': '+919351210270'});
            dataLayer.push({'gender': 'M'});   
                console.log("Profile upload successfully");
                window.alert("Profile Uploaded");
                
                
            function ctNotificationConsent(){
            clevertap.notifications.push({
                //"apnsWebPushId":"<apple web push id>", //only for safari browser
                //"apnsWebPushServiceUrl":"<safari package service url>",//only for safari browser
                "titleText":'Would you like to receive Push Notifications?',
                "bodyText":'We promise to only send you relevant content and give you updates on your transactions',
                "okButtonText":'Sign me up!',
                "rejectButtonText":'No thanks',
                "okButtonColor":'#f28046'});
                console.log("noti consent called");
           }
                
                
            }
            
        </script>
    </head>
    <body>
        <!-- Google Tag Manager (noscript) -->
<!--<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TM9L7CG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>-->
<!-- End Google Tag Manager (noscript) -->
        
        <p>This page is having Clevertap SDK in-built</p>
        <button type="button" name="Push Profile" onclick="gtmLoginFunction()">Login</button> <!--loginFunction()-->
        <button type="button" name="Push Event" onclick="#">Click here to Push a CT Event</button> <!--pushCTEvent()-->
        <button type="button" name="Notification consent" onclick="ctNotificationConsent()">Web push consent</button><!--ctNotificationConsent()-->
        <button type="button" name="updateProfile" onclick="#">profile Update</button><!--updateProfile()-->
    </body>
</html>
